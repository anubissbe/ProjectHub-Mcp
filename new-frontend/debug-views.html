<!DOCTYPE html>
<html>
<head>
    <title>Debug Views - ProjectHub</title>
    <style>
        body { font-family: system-ui; padding: 20px; background: #1a1a1a; color: #fff; }
        .section { margin: 20px 0; padding: 20px; background: #2a2a2a; border-radius: 8px; }
        .code { background: #000; padding: 10px; border-radius: 5px; overflow-x: auto; font-family: monospace; }
        button { background: #ff6500; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; }
        button:hover { background: #ff8533; }
        .success { color: #22c55e; }
        .error { color: #ef4444; }
        .info { color: #3b82f6; }
    </style>
</head>
<body>
    <h1>Debug Views - ProjectHub</h1>
    
    <div class="section">
        <h2>Instructions</h2>
        <ol>
            <li>Open ProjectHub at <a href="http://localhost:8090" target="_blank" style="color: #ff6500;">http://localhost:8090</a></li>
            <li>Login with admin@projecthub.local / admin123</li>
            <li>Open Browser Console (F12)</li>
            <li>Run the commands below in the console to debug</li>
        </ol>
    </div>
    
    <div class="section">
        <h2>Console Commands to Debug</h2>
        
        <h3>1. Check Alpine.js Data</h3>
        <div class="code">
// Get Alpine component data
let app = document.querySelector('[x-data]').__x.$data;
console.log('Current View:', app.currentView);
console.log('Projects:', app.projects.length);
console.log('Tasks:', app.tasks.length);
console.log('Selected Board Project:', app.selectedBoardProject);
        </div>
        
        <h3>2. Switch to Board View</h3>
        <div class="code">
// Switch to board view
app.currentView = 'board';
        </div>
        
        <h3>3. Select a Project for Board</h3>
        <div class="code">
// List projects
app.projects.forEach(p => console.log(p.id, p.name));

// Select first project
if (app.projects.length > 0) {
    app.selectedBoardProject = app.projects[0].id;
    app.loadBoardTasks();
}
        </div>
        
        <h3>4. Switch to Analytics View</h3>
        <div class="code">
// Switch to analytics
app.currentView = 'analytics';

// Force update charts
setTimeout(() => {
    app.updateCharts();
}, 100);
        </div>
        
        <h3>5. Check for Errors</h3>
        <div class="code">
// Check if libraries are loaded
console.log('Chart.js loaded:', typeof Chart !== 'undefined');
console.log('Sortable.js loaded:', typeof Sortable !== 'undefined');
console.log('Alpine.js loaded:', typeof Alpine !== 'undefined');
        </div>
    </div>
    
    <div class="section">
        <h2>Common Issues</h2>
        <ul>
            <li><strong>Board not showing:</strong> You need to select a project first from the dropdown</li>
            <li><strong>Analytics charts not rendering:</strong> Chart.js might not be loaded - refresh the page</li>
            <li><strong>Drag and drop not working:</strong> Sortable.js might not be loaded - refresh the page</li>
        </ul>
    </div>
    
    <div class="section">
        <h2>Quick Fix Script</h2>
        <p>Run this in the console to initialize everything:</p>
        <div class="code">
// Get app instance
let app = document.querySelector('[x-data]').__x.$data;

// Load initial data if not loaded
if (app.projects.length === 0) {
    app.loadProjects();
}

// For Board: Select first project
if (app.projects.length > 0 && !app.selectedBoardProject) {
    app.selectedBoardProject = app.projects[0].id;
    app.loadBoardTasks().then(() => {
        console.log('✅ Board tasks loaded');
        app.initializeDragAndDrop();
    });
}

// For Analytics: Calculate and render
app.calculateAnalytics();
setTimeout(() => {
    app.updateCharts();
    console.log('✅ Analytics updated');
}, 500);
        </div>
    </div>
</body>
</html>